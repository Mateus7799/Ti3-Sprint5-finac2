<p-toast />

<form
  #form="ngForm"
  class="flex flex-col gap-4 grow-0 min-w-4/6 max-w-[1000px]"
  (ngSubmit)="enviarFormulario(form)"
>
  <div class="flex gap-4 w-full">
    <p-fieldset legend="Informações sobre o item">
      <div class="flex flex-col gap-4 flex-1">
        <div class="flex gap-4">
          <p-iftalabel class="flex flex-1">
            <input
              type="text"
              name="aparelho"
              id="aparelho"
              pInputText
              fluid
              [ngModel]="itemEdicao?.aparelho"
              required
              class="w-full"
              placeholder="..."
            />
            <label for="aparelho">Aparelho</label>
          </p-iftalabel>
        </div>
        <div class="flex">
          <p-iftalabel class="flex flex-1">
            <input
              fluid
              placeholder="..."
              type="text"
              name="modelo"
              id="modelo"
              pInputText
              [ngModel]="itemEdicao?.modelo"
              required
            />
            <label for="modelo">Modelo</label>
          </p-iftalabel>
        </div>
        <div class="flex flex-1 gap-4">
          <p-iftalabel class="w-full">
            <input
              fluid
              placeholder="..."
              type="text"
              name="numeroSerie"
              id="numeroSerie"
              pInputText
              [ngModel]="itemEdicao?.numeroSerie"
              required
            />
            <label for="numeroSerie">Número de Série</label>
          </p-iftalabel>
          <p-iftalabel class="w-full">
            <input
              fluid
              placeholder="..."
              type="text"
              name="cor"
              id="cor"
              pInputText
              [ngModel]="itemEdicao?.cor"
            />
            <label for="cor">Cor</label>
          </p-iftalabel>
          <p-iftalabel class="w-full">
            <p-select
              [options]="opcoesStatus"
              [(ngModel)]="statusSelecionado"
              fluid
              optionLabel="nome"
              optionValue="id"
              name="status"
              required
            />
            <label for="status">Status</label>
          </p-iftalabel>
        </div>
      </div>
    </p-fieldset>
  </div>
  <p-fieldset legend="Observações">
    <p-floatlabel variant="on" class="flex mt-2 flex-1">
      <textarea
        rows="4"
        name="observacoes"
        [ngModel]="itemEdicao?.observacoes"
        style="resize: none"
        pTextarea
        fluid
      ></textarea>
      <label for="observacoes">Digite aqui...</label>
    </p-floatlabel>
  </p-fieldset>
  <div class="w-full flex justify-between">
    @if (itemEdicao) {
      <p-button
        label="Ver Histórico"
        icon="pi pi-history"
        [outlined]="true"
        severity="secondary"
        type="button"
        (click)="abrirHistorico()"
      ></p-button>
    } @else {
      <div></div>
    }
    <p-button [label]="itemEdicao ? 'Salvar' : 'Adicionar'" type="submit"></p-button>
  </div>
</form>
